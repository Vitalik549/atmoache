<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="./pressure-day.html">

<dom-module id="pressure-table">
    <style>
        .div-diff {
            text-align: center;
            line-height: 3rem;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            width: 100%;
            font-size: 1.25rem;
        }
    </style>
<template>
    <div>
    <template is="dom-repeat" items="{{aPressureDays}}">
        <pressure-day text="{{computeText(item)}}" color="{{computeColor(item.color)}}" entry-animation="slide-from-left-animation">
        </pressure-day>
    </template>
    </div>
</template>
</dom-module>
<script>
    Polymer({
        is: "pressure-table",
        properties: {
            aPressureDays: {
                type: Array
            }
        },
        computeColor: function(sColor) {
            return "background-color: " + sColor + ";";
        },
        computeText: function(item) {
            var options = {"weekday": "long", "day": "numeric"};
            var translatedDate = window.Intl ? Intl.DateTimeFormat(navigator.language, options).format(item.date) : item.date.toDateString();
            return translatedDate + " " + item.arrow;
        }
    });
</script>
